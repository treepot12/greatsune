<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>그레잇썬주식회사</title>
</head>
<body>
    <h1 onclick="logo()">그레잇썬주식회사</h1>
    <h3>회원가입</h3>
    <form id="joinf">
        <p><input id="id" type="email" placeholder="이메일"></p>
        <p><input id="pw" type="password" placeholder="비밀번호"></p>
        <p><input type="submit" value="회원가입"></p>
    </form>
</body>
<script type="module">
    import "./logo.js";
    import { signup } from "./auth.js";
    import { doc, setDoc, serverTimestamp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";
    import { db } from "./app.js";
    import { auth } from "./auth.js";
    
    document.getElementById("joinf").addEventListener("submit", async(e) => {
        e.preventDefault();

        const id = document.getElementById("id").value;
        const pw = document.getElementById("pw").value;
        if (id===""||pw===""){
            alert("최소 한 자리 이상 입력해주세요.");
            return;
        }
        try {
            await signup(email, pssword);

            alert("저장됨");
            location.href="https://treepot12.github.io/greatsune/";
        } catch (err) {
            alert("문제가 생겼습니다. 다시 시도해주십시오.");
        }

    });
</script>
</html>